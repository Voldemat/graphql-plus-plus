enum EUserField {
    NAME
    EMAIL
    CREATED_AT
}

input GetUsersSortBy {
    field: EUserField!
    direction: ESortDirection!
}

type User {
    id: UUID!
    name: String!
    email: String!
    tenGroups: [Group!]!
    createdAt: Datetime!
}

extend type Query {
    getMe: User! @authenticated
    getUsersTotal(query: String): Int! @admin @authenticated
    getUsers(
        skip: Int!,
        limit: Int!,
        query: String,
        sortBy: GetUsersSortBy!
    ): [User!]! @admin @authenticated
}

extend type Mutation {
    changePassword(
        oldPassword: String!,
        newPassword: String!
    ): ErrorInvalidCredentials @authenticated
    deleteUser(id: UUID!): ErrorNotFound @admin @authenticated
}
