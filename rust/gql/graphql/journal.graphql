type EventFileDownloaded {
    file: File!
    createdAt: Datetime!
}

type EventFileUploaded {
    file: File!
    createdAt: Datetime!
}

type EventFileDeleted {
    file: File!
    createdAt: Datetime!
}

type EventFileDownloadRequested {
    file: File!
    user: User!
    decision: Boolean
    createdAt: Datetime!
}

type EventFileTagsEdited {
    file: File!
    addedTags: [Tag!]!
    removedTags: [Tag!]!
    createdAt: Datetime!
}

type EventTagApprovalIsRequested {
    tag: Tag!
    alreadyInCatalog: Boolean!
    author: User!
    createdAt: Datetime!
}

union Event =
    EventFileDownloaded |
    EventFileUploaded |
    EventFileDeleted |
    EventFileTagsEdited |
    EventFileDownloadRequested |
    EventTagApprovalIsRequested

input DateRange {
    startAt: Datetime!
    endAt: Datetime!
}

input EventFiltersIn {
    eventFileDownloaded: Boolean!
    eventFileUploaded: Boolean!
    eventFileDeleted: Boolean!
    eventFileTagsEdited: Boolean!
    eventTagApprovalIsRequested: Boolean!
    eventFileDownloadRequested: Boolean!
}

type ErrorDateRangeIsInvalid {
    a: Boolean
}

type EventsList {
    events: [Event!]!
}

union GetEventsResponse = ErrorDateRangeIsInvalid | EventsList

extend type Query {
    getEvents(
        skip: Int!,
        limit: Int!,
        dateRange: DateRange!,
        filters: EventFiltersIn!,
        query: String,
    ): GetEventsResponse! @admin @authenticated
}
